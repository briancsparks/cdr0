
const Room        = require('./Room');

module.exports = Namespace;


let nextNamespaceId = 1;

function Namespace(endpoint, name, isPublic =true, id =-1) {
  let self = this;

  self.id         = (id === -1 ? nextNamespaceId++ : id);
  self.endpoint   = endpoint;
  self.name       = name        || endpoint;
  self.isPublic   = isPublic;

  self.rooms      = [];

  self.addRoom = function(name, isPublic = self.isPublic) {
    const room    = new Room(name, self, isPublic);
    const roomId  = room.id;

    self.rooms[roomId] = room;
  }
}
